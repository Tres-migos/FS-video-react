{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nathan/projects/FS-video-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nathan/projects/FS-video-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nathan/projects/FS-video-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Dimmer,Loader,Image,Segment,Grid,Embed}from'semantic-ui-react';import{Carousel}from'3d-react-carousal';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var instance=axios.create({baseURL:'http://localhost:8080/video',headers:{'Content-Type':'application/x-www-form-urlencoded'}});var DisplayMedia=function DisplayMedia(_ref){var media=_ref.media;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),video=_useState4[0],setVideo=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),slides=_useState6[0],setSlides=_useState6[1];var handleLoader=function handleLoader(){setLoading(function(isLoading){return!isLoading;});};var getMediaURL=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var media_URL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:handleLoader();media_URL=\"\";_context.next=4;return instance.get(\"/\".concat(media.bucketName,\"/\").concat(media.key));case 4:media_URL=_context.sent;setVideo(media_URL.data);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getMediaURL(){return _ref2.apply(this,arguments);};}();useEffect(function(){getMediaURL();handleLoader();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading&&video==null&&/*#__PURE__*/_jsx(Dimmer,{active:true,children:/*#__PURE__*/_jsx(Loader,{size:\"large\",children:\"Loading\"})}),!isLoading&&video!=null&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'5%'},children:/*#__PURE__*/_jsx(Embed,{url:video})})]});};export default DisplayMedia;","map":{"version":3,"sources":["/Users/nathan/projects/FS-video-web/src/components/media/DisplayMedia.js"],"names":["React","useState","useEffect","axios","Dimmer","Loader","Image","Segment","Grid","Embed","Carousel","instance","create","baseURL","headers","DisplayMedia","media","isLoading","setLoading","video","setVideo","slides","setSlides","handleLoader","getMediaURL","media_URL","get","bucketName","key","data","padding"],"mappings":"2cAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,MAAjB,CAAyBC,KAAzB,CAAgCC,OAAhC,CAAyCC,IAAzC,CAA+CC,KAA/C,KAA4D,mBAA5D,CACA,OAAQC,QAAR,KAAuB,mBAAvB,C,6IAEA,GAAMC,CAAAA,QAAQ,CAAGR,KAAK,CAACS,MAAN,CAAa,CAC1BC,OAAO,CAAE,6BADiB,CAE1BC,OAAO,CAAE,CACL,eAAgB,mCADX,CAFiB,CAAb,CAAjB,CAOA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,eACAf,QAAQ,CAAC,KAAD,CADR,wCACzBgB,SADyB,eACdC,UADc,8BAENjB,QAAQ,CAAC,EAAD,CAFF,yCAEzBkB,KAFyB,eAElBC,QAFkB,8BAGJnB,QAAQ,CAAC,EAAD,CAHJ,yCAGzBoB,MAHyB,eAGjBC,SAHiB,eAKhC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBL,UAAU,CAAC,SAAAD,SAAS,QAAI,CAACA,SAAL,EAAV,CAAV,CACH,CAFD,CAIA,GAAMO,CAAAA,WAAW,2FAAG,iJAChBD,YAAY,GACRE,SAFY,CAEA,EAFA,uBAGEd,CAAAA,QAAQ,CAACe,GAAT,YAAiBV,KAAK,CAACW,UAAvB,aAAqCX,KAAK,CAACY,GAA3C,EAHF,QAGhBH,SAHgB,eAIhBL,QAAQ,CAACK,SAAS,CAACI,IAAX,CAAR,CAJgB,sDAAH,kBAAXL,CAAAA,WAAW,2CAAjB,CAOAtB,SAAS,CAAC,UAAM,CACZsB,WAAW,GACXD,YAAY,GACf,CAHQ,CAGN,EAHM,CAAT,CAKA,mBACI,2BACKN,SAAS,EAAIE,KAAK,EAAI,IAAtB,eAA8B,KAAC,MAAD,EAAQ,MAAM,KAAd,uBAAe,KAAC,MAAD,EAAQ,IAAI,CAAC,OAAb,qBAAf,EADnC,CAGQ,CAACF,SAAD,EAAcE,KAAK,EAAI,IAAvB,eACA,YAAK,KAAK,CAAE,CAAEW,OAAO,CAAE,IAAX,CAAZ,uBACA,KAAC,KAAD,EACI,GAAG,CAAEX,KADT,EADA,EAJR,GADJ,CAgBH,CArCD,CAuCA,cAAeJ,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { Dimmer, Loader, Image, Segment, Grid, Embed } from 'semantic-ui-react'\nimport {Carousel} from '3d-react-carousal';\n\nconst instance = axios.create({\n    baseURL: 'http://localhost:8080/video',\n    headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n    },\n  });\n\nconst DisplayMedia = ({ media }) => {\n    const [isLoading, setLoading] = useState(false)\n    const [video, setVideo] = useState([])\n    const [slides, setSlides] = useState([])\n\n    const handleLoader = () => {\n        setLoading(isLoading => !isLoading)\n    }\n\n    const getMediaURL = async () => {\n        handleLoader()\n        let media_URL = \"\"\n        media_URL = await instance.get(`/${media.bucketName}/${media.key}`)\n        setVideo(media_URL.data)\n    }\n\n    useEffect(() => {\n        getMediaURL()\n        handleLoader()\n    }, [])\n\n    return (\n        <>\n            {isLoading && video == null && <Dimmer active><Loader size='large'>Loading</Loader></Dimmer>}\n            {\n                !isLoading && video != null &&\n                <div style={{ padding: '5%'}}>\n                <Embed\n                    url={video}\n                />\n                </div>\n\n            }\n\n        </>\n    )\n\n}\n\nexport default DisplayMedia"]},"metadata":{},"sourceType":"module"}