{"ast":null,"code":"import _classCallCheck from\"/Users/nathan/projects/FS-video-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nathan/projects/FS-video-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/nathan/projects/FS-video-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nathan/projects/FS-video-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import axios from'axios';import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var instance=axios.create({baseURL:'http://localhost:8080/video',headers:{'Content-Type':'application/x-www-form-urlencoded'}});var Uploader=/*#__PURE__*/function(_Component){_inherits(Uploader,_Component);var _super=_createSuper(Uploader);function Uploader(){var _this;_classCallCheck(this,Uploader);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={selectedFile:null};_this.onFileChange=function(event){// Update the state \n_this.setState({selectedFile:event.target.files[0]});};_this.onFileUpload=function(){// Create an object of formData \nvar formData=new FormData();// Update the formData object \nformData.append(\"myFile\",_this.state.selectedFile,_this.state.selectedFile.name);// Details of the uploaded file \nconsole.log(_this.state.selectedFile);// Request made to the backend api \n// Send formData object \ninstance.post(\"/upload\",formData);};_this.fileData=function(){if(_this.state.selectedFile){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"File Details:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"File Name: \",_this.state.selectedFile.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"File Type: \",_this.state.selectedFile.type]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h4\",{children:\"Choose before Pressing the Upload button\"})]});}};return _this;}_createClass(Uploader,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Upload a video!\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:this.onFileChange}),/*#__PURE__*/_jsx(\"button\",{onClick:this.onFileUpload,children:\"Upload!\"})]}),this.fileData()]});}}]);return Uploader;}(Component);export default Uploader;","map":{"version":3,"sources":["/Users/nathan/projects/FS-video-web/src/components/upload/Uploader.js"],"names":["axios","React","Component","instance","create","baseURL","headers","Uploader","state","selectedFile","onFileChange","event","setState","target","files","onFileUpload","formData","FormData","append","name","console","log","post","fileData","type"],"mappings":"wlBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAGH,KAAK,CAACI,MAAN,CAAa,CAC1BC,OAAO,CAAE,6BADiB,CAE1BC,OAAO,CAAE,CACL,eAAgB,mCADX,CAFiB,CAAb,CAAjB,C,GAOMC,CAAAA,Q,mUAEFC,K,CAAQ,CACNC,YAAY,CAAE,IADR,C,OAKRC,Y,CAAe,SAAAC,KAAK,CAAI,CACtB;AACA,MAAKC,QAAL,CAAc,CAAEH,YAAY,CAAEE,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAhB,CAAd,EACD,C,OAGDC,Y,CAAe,UAAM,CACnB;AACA,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CAEA;AACAD,QAAQ,CAACE,MAAT,CACE,QADF,CAEE,MAAKV,KAAL,CAAWC,YAFb,CAGE,MAAKD,KAAL,CAAWC,YAAX,CAAwBU,IAH1B,EAOA;AACAC,OAAO,CAACC,GAAR,CAAY,MAAKb,KAAL,CAAWC,YAAvB,EAEA;AACA;AACAN,QAAQ,CAACmB,IAAT,CAAc,SAAd,CAAyBN,QAAzB,EACD,C,OAIDO,Q,CAAW,UAAM,CACf,GAAI,MAAKf,KAAL,CAAWC,YAAf,CAA6B,CAE3B,mBACE,oCACE,qCADF,cAEE,mCAAe,MAAKD,KAAL,CAAWC,YAAX,CAAwBU,IAAvC,GAFF,cAGE,mCAAe,MAAKX,KAAL,CAAWC,YAAX,CAAwBe,IAAvC,GAHF,GADF,CAOD,CATD,IASO,CACL,mBACE,oCACE,aADF,cAEE,gEAFF,GADF,CAMD,CACF,C,0DAED,iBAAS,CACP,mBACE,oCACI,uCADJ,cAII,oCACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAE,KAAKd,YAAlC,EADJ,cAEI,eAAQ,OAAO,CAAE,KAAKK,YAAtB,qBAFJ,GAJJ,CAUG,KAAKQ,QAAL,EAVH,GADF,CAcD,C,sBAtEkBrB,S,EAyErB,cAAeK,CAAAA,QAAf","sourcesContent":["import axios from 'axios';\nimport React,{Component} from 'react';\n\nconst instance = axios.create({\n    baseURL: 'http://localhost:8080/video',\n    headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n    },\n  });\n\nclass Uploader extends Component { \n\n    state = { \n      selectedFile: null\n    }; \n     \n    // On file select (from the pop up) \n    onFileChange = event => { \n      // Update the state \n      this.setState({ selectedFile: event.target.files[0] }); \n    }; \n     \n    // On file upload (click the upload button) \n    onFileUpload = () => { \n      // Create an object of formData \n      const formData = new FormData(); \n     \n      // Update the formData object \n      formData.append( \n        \"myFile\", \n        this.state.selectedFile, \n        this.state.selectedFile.name \n        \n      ); \n     \n      // Details of the uploaded file \n      console.log(this.state.selectedFile); \n     \n      // Request made to the backend api \n      // Send formData object \n      instance.post(\"/upload\", formData); \n    }; \n     \n    // File content to be displayed after \n    // file upload is complete \n    fileData = () => { \n      if (this.state.selectedFile) { \n          \n        return ( \n          <div> \n            <h2>File Details:</h2> \n            <p>File Name: {this.state.selectedFile.name}</p> \n            <p>File Type: {this.state.selectedFile.type}</p> \n          </div> \n        ); \n      } else { \n        return ( \n          <div> \n            <br /> \n            <h4>Choose before Pressing the Upload button</h4> \n          </div> \n        ); \n      } \n    }; \n     \n    render() { \n      return ( \n        <div> \n            <h3> \n              Upload a video!\n            </h3> \n            <div> \n                <input type=\"file\" onChange={this.onFileChange} /> \n                <button onClick={this.onFileUpload}> \n                  Upload! \n                </button> \n            </div> \n          {this.fileData()} \n        </div> \n      ); \n    } \n  } \n  \n  export default Uploader; \n"]},"metadata":{},"sourceType":"module"}