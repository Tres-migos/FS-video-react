{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nathan/projects/FS-video-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nathan/projects/FS-video-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nathan/projects/FS-video-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{Button,Form,Header,Grid,Segment}from'semantic-ui-react';import{useHistory}from'react-router-dom';import{useAppContext}from'../lib/contextLib';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useAppContext=useAppContext(),userHasAuthenticated=_useAppContext.userHasAuthenticated;var history=useHistory();function validateForm(){return username.length>0&&password.length>0;}function register(){return _register.apply(this,arguments);}function _register(){_register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var account;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:account={username:username,password:password};_context.prev=1;_context.next=4;return axios.post('http://localhost:8080/account/create',account);case 4:userHasAuthenticated(true);history.push(\"/\");_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);userHasAuthenticated(false);alert(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _register.apply(this,arguments);}return/*#__PURE__*/_jsx(Grid,{centered:true,children:/*#__PURE__*/_jsx(Grid.Column,{style:{maxWidth:600,marginTop:20},children:/*#__PURE__*/_jsxs(Segment,{raised:true,padded:\"very\",children:[/*#__PURE__*/_jsx(Header,{children:\"Register\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{value:username,placeholder:\"Username\",onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{value:password,type:\"Password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{fluid:true,primary:true,onClick:register,type:\"submit\",disabled:!validateForm(),children:\"Submit\"})]})]})})});}","map":{"version":3,"sources":["/Users/nathan/projects/FS-video-web/src/Pages/Register.js"],"names":["React","useState","axios","Button","Form","Header","Grid","Segment","useHistory","useAppContext","Register","username","setUsername","password","setPassword","userHasAuthenticated","history","validateForm","length","register","account","post","push","alert","message","maxWidth","marginTop","e","target","value"],"mappings":"2cAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,MAAvB,CAA+BC,IAA/B,CAAqCC,OAArC,KAAmD,mBAAnD,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAASC,aAAT,KAA8B,mBAA9B,C,wFAMA,cAAe,SAASC,CAAAA,QAAT,EAAqB,eACFT,QAAQ,CAAC,EAAD,CADN,wCAC3BU,QAD2B,eACjBC,WADiB,8BAEFX,QAAQ,CAAC,EAAD,CAFN,yCAE3BY,QAF2B,eAEjBC,WAFiB,kCAGHL,aAAa,EAHV,CAG3BM,oBAH2B,gBAG3BA,oBAH2B,CAIlC,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAGA,QAASS,CAAAA,YAAT,EAAuB,CACrB,MAAON,CAAAA,QAAQ,CAACO,MAAT,CAAkB,CAAlB,EAAuBL,QAAQ,CAACK,MAAT,CAAkB,CAAhD,CACD,CATiC,QAYnBC,CAAAA,QAZmB,kIAYlC,+IACQC,OADR,CACkB,CAAET,QAAQ,CAARA,QAAF,CAAYE,QAAQ,CAARA,QAAZ,CADlB,uCAGUX,CAAAA,KAAK,CAACmB,IAAN,CAAW,sCAAX,CAAmDD,OAAnD,CAHV,QAIIL,oBAAoB,CAAC,IAAD,CAApB,CACAC,OAAO,CAACM,IAAR,CAAa,GAAb,EALJ,+EAOIP,oBAAoB,CAAC,KAAD,CAApB,CACAQ,KAAK,CAAC,YAAEC,OAAH,CAAL,CARJ,oEAZkC,2CA0BlC,mBACE,KAAC,IAAD,EAAM,QAAQ,KAAd,uBACE,KAAC,IAAD,CAAM,MAAN,EAAa,KAAK,CAAE,CAAEC,QAAQ,CAAE,GAAZ,CAAiBC,SAAS,CAAE,EAA5B,CAApB,uBACE,MAAC,OAAD,EAAS,MAAM,KAAf,CAAgB,MAAM,CAAC,MAAvB,wBACE,KAAC,MAAD,uBADF,cAEE,MAAC,IAAD,yBACE,MAAC,IAAD,CAAM,KAAN,yBACE,mCADF,cAEE,cACE,KAAK,CAAEf,QADT,CAEE,WAAW,CAAC,UAFd,CAGE,QAAQ,CAAE,kBAACgB,CAAD,QAAOf,CAAAA,WAAW,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAHZ,EAFF,GADF,cAQE,MAAC,IAAD,CAAM,KAAN,yBACE,mCADF,cAEE,cACE,KAAK,CAAEhB,QADT,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,UAHd,CAIE,QAAQ,CAAE,kBAACc,CAAD,QAAOb,CAAAA,WAAW,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAJZ,EAFF,GARF,cAiBE,KAAC,MAAD,EACE,KAAK,KADP,CACQ,OAAO,KADf,CAEE,OAAO,CAAEV,QAFX,CAGE,IAAI,CAAC,QAHP,CAIE,QAAQ,CAAE,CAACF,YAAY,EAJzB,oBAjBF,GAFF,GADF,EADF,EADF,CAmCD","sourcesContent":["import React, {useState} from 'react'\nimport axios from 'axios'\nimport { Button, Form, Header, Grid, Segment} from 'semantic-ui-react'\nimport {useHistory} from 'react-router-dom'\nimport { useAppContext } from '../lib/contextLib'\n\n\n\n\n\nexport default function Register () {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const {userHasAuthenticated} = useAppContext();\n  const history = useHistory()\n  \n\n  function validateForm(){\n    return username.length > 0 && password.length > 0;\n  }\n\n\n  async function register() {\n    const account = { username, password };\n    try {\n      await axios.post('http://localhost:8080/account/create', account)\n      userHasAuthenticated(true)\n      history.push(\"/\")\n    } catch (e) {\n      userHasAuthenticated(false)\n      alert(e.message)\n    }\n  }\n  \n\n\n  return (\n    <Grid centered>\n      <Grid.Column style={{ maxWidth: 600, marginTop: 20 }}>\n        <Segment raised padded='very'>\n          <Header>Register</Header>\n          <Form >\n            <Form.Field>\n              <label>Username</label>\n              <input\n                value={username}\n                placeholder=\"Username\"\n                onChange={(e) => setUsername(e.target.value)} />\n            </Form.Field>\n            <Form.Field>\n              <label>Password</label>\n              <input\n                value={password}\n                type='Password'\n                placeholder=\"Password\"\n                onChange={(e) => setPassword(e.target.value)} />\n            </Form.Field>\n\n            <Button\n              fluid primary\n              onClick={register}\n              type='submit'\n              disabled={!validateForm()}>Submit</Button>\n          </Form>\n        </Segment>\n\n      </Grid.Column>\n\n    </Grid>\n  );\n\n}\n"]},"metadata":{},"sourceType":"module"}